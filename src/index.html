<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>MCxOSCnext - *unsaved.session</title>
    <script script type="text/javascript" src="./renderer.js"></script>
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
  </head>
  <body>
    <div id="header" style="text-align: center">
      <img
        src="./assets/MxOSC-dark-bann.png"
        alt=""
        style="max-width: 25%; height: auto"
        class="center"
      />
    </div>
    <div id="menu" class="left" style="font-weight: bold; padding-left: 2%">
      <button class="button menuBtn" id="menuBtn"  style="margin-left: -20px;" onclick="menu()">
        &#9776;
      </button>
      <button class="button loadBtn" id="loadBtn" style="display: none;" onclick="load(this.id) ">
        Open File
      </button>
      <button class="button saveAsBtn" id="saveAsBtn" style="display: none;" onclick="saveAs(this.id)">
        Save as...
      </button>
      <button class="button saveBtn" id="saveBtn" style="display: none;" onclick="save(this.id)">
        Save 
      </button>
      <button class="button preferencesBtn" id="preferencesBtn" style="display: none;" onclick="prefs(this.id)">
        Preferences
      </button>
<!--      <button class="button logBtn" id="logBtn" style="display: none;visibility: hidden;" onclick="logview(this.id)">
        Logs
      </button>
    -->    </div>
    <br />
    <div id="Network_Settings">
      <div class="form">
        <form id="form1">
          <label style="text-align: center" for="fname"
            >Remote Ember+ Provider
          </label>
          <p id="add1">Waiting</p>
          <span
            id="dot1"
            class="infoDot"
            style="position: absolute; top: 0; right: 10px"
            >&#9679;</span
          >
        </form>
      </div>
      <div class="form">
        <form id="form2">
          <label style="text-align: center" for="fname"
            >Local OSC Port
          </label>
          <p id="add2">Waiting</p>
          <span
            id="dot2"
            class="infoDot"
            style="position: absolute; top: 0; right: 10px"
            >&#9679;</span
          >
        </form>
      </div>
      <div class="form">
        <form id="form3">
          <label style="text-align: center" for="fname"
            >Remote OSC Server</label
          >
          <p id="add3">Waiting</p>
          <span
            id="dot3"
            class="infoDot"
            style="position: absolute; top: 0; right: 10px"
            >&#9679;</span
          >
        </form>
      </div>
    </div>
    <div id="Connections_Settings">
      <class="form">
        <label style="text-align: center; position: absolute;margin: auto;left: 0;right: 0;margin-top: 0;" for="fname"
          >Ember+ to OSC connection creator</label
        ><br />
        <br />

        <label for="fname">.Ember+ Path:</label>
        <br />
        <form id="form4" onsubmit="return false">
          <div style="height: 50px;">
          <b
            class="hideOnAdvanced"
            style="font-weight: normal; font-size: smaller; padding-left: 10%"
            >Channels.</b
          >
          <select
            class="hideOnAdvanced"
            id="slct0"
            name="slct0"
            required
            onchange="setEuserLabel(this.value)"
          >
            <option value="">----</option>
            <option value="Inputs">Inputs</option>
            <option value="GP Channels">GP Channels</option>
            <option value="Sums">Sums</option>
            <option value="Auxes">Auxes</option>
            <option value="Masters">Masters</option>
          </select
          ><b class="hideOnAdvanced">.</b>
          <select
            class="hideOnAdvanced"
            id="eUserLabel"
            name="eUserLabel"
          ></select>
          <b class="hideOnAdvanced">.</b>
          <select
            class="hideOnAdvanced"
            id="slct1"
            name="slct1"
            onchange=" populate(this.id,'slct2','invisibleA', this.selectedIndex)"
            required
          >
            <option value="">----</option>
            <option value="Channel States">Channel States</option>
            <option value="Mute">Mute</option>
            <option value="Fader">Fader</option>
            <option value="Pan">Pan</option>
            <option value="Signal Processing">Signal Processing</option>
            <option value="Assignements">Assignements</option>
            <option value="Slider">Slider</option>
          </select>
          <b id="invisibleA" style="visibility: hidden"> .</b>
          <select
            class="hideOnAdvanced"
            id="slct2"
            name="slct2"
            style="visibility: hidden"
            onchange="populate(this.id,'slct3','invisibleB', this.selectedIndex), selectedOption(this.id)"
          ></select>
          <b id="invisibleB" style="visibility: hidden">.</b>
          <select
            class="hideOnAdvanced"
            id="slct3"
            name="slct3"
            style="visibility: hidden"
            onchange="selectedOption(this.id)"
          ></select>
          <input
            class="visibleOnAdvanced"
            type="text"
            style="visibility: hidden; display: flex;margin: auto; margin-left: 0; margin-right: 0;"
            id="manualEmberPath"
            value=""
          />
        </div>
          <input style="position:absolute;right: 10px;top: 30px;"
            class="button"
            id="suscribe"
            style="text-align: center"
            type="submit"
            value="Add!"
          />
          <div
            style="
              display: block;
              padding-left: 7%;
              font-weight: normal;
              font-size: smaller;
            "
          >
            <div class="toggle" id="switcher">
              <script>
                switcher.addEventListener("click", advancedMode);
              </script>
              <div class="glow-comp"></div>
              <div class="toggle-button"></div>
            </div>
            <span
              style="font-style: italic"
              title="examples:&#34;10623.126277.126278.126283.126284&#34; or &#34;_2._4._1._400016b0._400016b1&#34;"
              >Manual Mode(put an ember+ path if you know it!)</span
            >
          </div>
        </form>
      <br />
        <form id="form5" onsubmit="return false">
          <label for="fname" title="keep it or put your own! Works on last added
          connection"
            >/OSC Address (autofill but you can modify it)</label
          ><br /><br />
          <div style="padding-left: 10%">
            <input type="text" id="oscAddr" name="oscAddr" value="/Channels" />
            <input style="position:absolute;right: 10px; top: -15px;"
              class="button"
              id="modifyOscAddr"
              style="text-align: center"
              type="submit"
              value="Modify!"
            />
          </div>
          <br />
          <div
            style="
              display: block;
              padding-left: 7%;
              font-weight: normal;
              font-size: smaller;
            "
          >
            <div class="toggle" id="switcher1">
              <script>
                switcher1.addEventListener("click", remapMode);
              </script>
              <div class="glow-comp"></div>
              <div class="toggle-button"></div>
            </div>
            <span style="font-style: italic" title=""
              >Remap Values (only avalaible for Integer parameters!) &ensp;
              &ensp;
            </span>
            <label
              id="labelErange"
              style="visibility: hidden"
              class="unhideOnRemap"
            >
              <span id="eRange" title="ember+ range"></span>
            </label>
            <label
              id="labelOrange"
              style="visibility: hidden"
              class="unhideOnRemap"
              title="OSC range &nbsp;example:&nbsp;min,max"
              value=""
            >
              <input type="text" id="oRange" />
            </label>
            <label
              id="logCheckbox"
              style="visibility: hidden"
              class="unhideOnRemap"
              >linear to log scale
              <input type="checkbox" id="lCheckbox" name="checkbox" />
              <span class="checkmark"></span>
            </label>
          </div>
          <br />
          <br />
        </form>
      </div>
    </div>
    <div class="table">
      <table id="tableOfConnection" style="width: 100%; text-align: center">
        <caption>
          List of connections
        </caption>
        <tr>
          <th colspan="2">Ember+</th>
          <th></th>
          <th colspan="2">OSC</th>
          <th></th>
        </tr>
        <tr>
          <td>PATH</td>
          <td class="little">Ember+Value</td>
          <td class="little">Factor</td>
          <td class="little">OSC value</td>
          <td>ADDRESS</td>
          <td></td>
          <td class="little">type</td>
          <td class="little">Math</td>
          <td class="little">Min</td>
          <td class="hiddenTd"></td>
          <td class="little">Max</td>
          <!--
          <td class="little">dir</td>
          -->
        </tr>
      </table>
    </div>
    <div id="logging" style="display: none; background-color: black;">

      <div id="anchor"></div>
    </div>

    <script>
      form4.addEventListener("submit", fillOscAddr);
      form4.addEventListener("submit", submitEmberPath);
      form5.addEventListener("submit", modifyOscAddr);
    </script>
  </body>
  <footer class="little" style="display: inline-block">
    <p>
      Actual FilePath :
      <span id="filepath"></span>
      <span style="position: absolute; right: 10px" id="appVersion"
        >MCxOSCnext Version :
      </span>
    </p>
  </footer>
</html>
